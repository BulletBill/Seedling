[gd_scene load_steps=32 format=3 uid="uid://df7u54ytfaqgo"]

[ext_resource type="Script" path="res://Assets/Core/Game.cs" id="1_6pfw6"]
[ext_resource type="Script" path="res://Assets/Core/CameraController.cs" id="2_1l8qg"]
[ext_resource type="PackedScene" uid="uid://crks2aw8cc252" path="res://Assets/Player/player.tscn" id="2_5ryln"]
[ext_resource type="PackedScene" uid="uid://b653ac6q6ipab" path="res://Assets/Player/Resources/DamageNumber.tscn" id="2_6m604"]
[ext_resource type="PackedScene" uid="uid://2ekwlaa17gji" path="res://Assets/Scenes/cursor.tscn" id="2_fwv7t"]
[ext_resource type="Script" path="res://Assets/Enemies/EnemyController.cs" id="5_2d86f"]
[ext_resource type="Script" path="res://Assets/Enemies/Spawner/SpawnerBrain.cs" id="5_5wunb"]
[ext_resource type="PackedScene" uid="uid://bqo4ffahkqb78" path="res://Assets/Scenes/Interface/CurrencyDisplay.tscn" id="6_6nu1p"]
[ext_resource type="PackedScene" uid="uid://dlgl700nd4604" path="res://Assets/Scenes/Interface/BuildButton.tscn" id="8_7jknq"]
[ext_resource type="PackedScene" uid="uid://b32yvj87mq78l" path="res://Assets/Maps/TestMap.tscn" id="8_xg1xo"]
[ext_resource type="Resource" uid="uid://bmd4ngk8oi5f1" path="res://Assets/Towers/Sapling/Data_Sapling.tres" id="9_qaekf"]
[ext_resource type="PackedScene" uid="uid://cjvtnmut5ak7p" path="res://Assets/Scenes/Interface/DetailPanel.tscn" id="10_14nb1"]
[ext_resource type="Script" path="res://Assets/Interface/InfoPanel.cs" id="10_aa88r"]
[ext_resource type="PackedScene" uid="uid://dynjwh5qcpo7t" path="res://Assets/Scenes/Interface/ObjectiveDisplay.tscn" id="12_3v315"]
[ext_resource type="PackedScene" uid="uid://c4nme8pyly5sa" path="res://Assets/Enemies/Clod-E1/E1 Clod.tscn" id="12_ccdgc"]
[ext_resource type="Resource" uid="uid://coyd0ad8jrvd7" path="res://Assets/Towers/Buckthorn/Data_Buckthorn.tres" id="13_lgdtf"]
[ext_resource type="Resource" uid="uid://pqk4g5tts6in" path="res://Assets/Towers/Sun Leaf/Data_Sunleaf.tres" id="13_qekwa"]
[ext_resource type="PackedScene" uid="uid://cc014in5dphp3" path="res://Assets/Towers/Sapling/build-sapling.tscn" id="14_lyc22"]
[ext_resource type="PackedScene" uid="uid://dwsle41sxrc0k" path="res://Assets/Towers/Buckthorn/build-buckthorn.tscn" id="16_qloi3"]
[ext_resource type="PackedScene" uid="uid://brrad01kekp4g" path="res://Assets/Towers/Sun Leaf/build-sunleaf.tscn" id="18_wan3g"]
[ext_resource type="PackedScene" uid="uid://ukt5pidwl63" path="res://Assets/Scenes/Interface/ContextMenu.tscn" id="19_s5hir"]
[ext_resource type="PackedScene" uid="uid://b3fxnt1sq3rjq" path="res://Assets/Towers/Genesis Tree/build-Genesis.tscn" id="20_vysba"]
[ext_resource type="Resource" uid="uid://cnxh15qnwr5eo" path="res://Assets/Towers/Genesis Tree/Data_Genesis.tres" id="21_iihs7"]
[ext_resource type="Texture2D" uid="uid://c4cqjktrt205k" path="res://Assets/Art/Interface/WindowBG.png" id="24_07imn"]
[ext_resource type="Script" path="res://Assets/Debug/Debug_Costs.cs" id="25_lm41f"]
[ext_resource type="Script" path="res://Assets/Debug/Debug_Spawning.cs" id="26_gxkg1"]

[sub_resource type="Animation" id="Animation_ko4m5"]
resource_name = "MoveToRight"
length = 0.3
step = 0.05
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.145, 0.15, 0.3),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [Vector2(0, 0), Vector2(-300, 0), Vector2(1940, 0), Vector2(1638, 0)]
}

[sub_resource type="Animation" id="Animation_8fk4y"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(0, 0)]
}

[sub_resource type="Animation" id="Animation_4sbol"]
resource_name = "MoveToLeft"
length = 0.3
step = 0.05
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.145, 0.15, 0.3),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [Vector2(1638, 0), Vector2(1940, 0), Vector2(-300, 0), Vector2(0, 0)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_3c2l8"]
_data = {
"MoveToLeft": SubResource("Animation_4sbol"),
"MoveToRight": SubResource("Animation_ko4m5"),
"RESET": SubResource("Animation_8fk4y")
}

[sub_resource type="RectangleShape2D" id="RectangleShape2D_1nxvs"]
size = Vector2(459, 1094)

[node name="Game" type="Node2D"]
position = Vector2(-1, 0)
script = ExtResource("1_6pfw6")
DamageNumberPrefab = ExtResource("2_6m604")

[node name="Camera2D" type="Camera2D" parent="."]
z_index = 1000
limit_left = 0
limit_top = 0
limit_right = 1920
limit_bottom = 1080
script = ExtResource("2_1l8qg")

[node name="Cursor" parent="." instance=ExtResource("2_fwv7t")]
z_index = 50

[node name="Player" parent="." instance=ExtResource("2_5ryln")]

[node name="EnemyController" type="Node2D" parent="."]
script = ExtResource("5_2d86f")

[node name="SpawnerBrain" type="Node2D" parent="EnemyController"]
script = ExtResource("5_5wunb")
EnemiesToSpawn = [ExtResource("12_ccdgc")]

[node name="TestMap" type="Node2D" parent="."]
position = Vector2(2, 0)
scale = Vector2(2, 2)

[node name="TileMap" parent="TestMap" instance=ExtResource("8_xg1xo")]
layer_0/z_index = -3
layer_0/tile_data = PackedInt32Array(720895, 2, 2, 655368, 2, 1, 393231, 131074, 3, 393232, 131074, 0, 393233, 131074, 3, 393234, 131074, 3, 393235, 131074, 3, 393236, 131074, 3, 196616, 2, 1, 131080, 2, 1, 65544, 2, 1, 8, 2, 1, -65528, 2, 0, 393237, 196610, 3, 262152, 2, 1, 327688, 2, 1, 393224, 65538, 1, 393225, 131074, 3, 393226, 131074, 3, 393227, 131074, 3, 393228, 131074, 3, 393229, 131074, 3, 393230, 131074, 3, 589832, 196610, 1, 524296, 2, 1, 458760, 2, 1, 1114128, 2, 2, 655359, 65538, 0, 589824, 131074, 3, 589825, 131074, 3, 589826, 131074, 3, 589827, 131074, 3, 589828, 131074, 3, 589829, 131074, 3, 589830, 131074, 3, 589831, 131074, 3, 458768, 2, 1, 524304, 2, 1, 589840, 2, 1, 655376, 2, 1, 720912, 2, 1, 786448, 2, 1, 851984, 2, 1, 917520, 2, 1, 983056, 2, 1, 1048592, 2, 1, 720904, 2, 1, 786440, 2, 1, 851976, 2, 2)
layer_2/z_index = -2
layer_2/tile_data = PackedInt32Array(1048585, 589827, 3, 1048584, 393219, 2, 1114120, 720899, 3, 1114119, 589827, 3, 1114118, 589827, 3, 1114117, 393219, 2, 1114116, 327683, 1, 1179652, 589827, 3, 1179651, 589827, 3, 1179650, 393219, 2, 1179649, 327683, 1, 1245184, 589827, 2, 1310719, 524291, 1, 1245185, 393219, 2, 1179648, 655363, 0, 1245183, 524291, 0, 1114113, 524291, 0, 1114114, 655363, 0, 1114115, 655363, 0, 1048580, 524291, 0, 1048581, 655363, 0, 1048582, 655363, 0, 1048583, 327683, 1, 1179653, 720899, 3, 1245186, 720899, 3, 1310721, 720899, 3, 1310720, 589827, 3, 1376255, 524291, 3, 1048586, 720899, 3, 327703, 65539, 0, 393239, 3, 1, 458775, 65539, 2, 786472, 65539, 0, 852008, 3, 1, 917544, 3, 1, 983080, 3, 1, 1048616, 3, 1, 1114152, 3, 1, 1179688, 3, 1, 1245224, 65539, 2, 1245225, 131075, 3, 1245226, 131075, 3, 1245227, 131075, 3, 1245228, 131075, 3, 1245230, 131075, 3, 1245229, 131075, 3, 1245231, 131075, 3, 1245232, 131075, 3, 1245233, 131075, 3, 1245234, 196611, 2, 1179698, 3, 1, 1114162, 3, 1, 1048626, 3, 1, 983090, 3, 1, 917554, 3, 1, 852018, 3, 1, 786482, 196611, 0, 786481, 131075, 2, 786480, 131075, 3, 786479, 131075, 3, 786478, 131075, 3, 786477, 131075, 3, 786476, 131075, 3, 786475, 131075, 3, 786474, 131075, 3, 786473, 131075, 2, 720937, 3, 0, 655402, 3, 3, 589867, 3, 3, 524332, 65539, 3, 720945, 3, 0, 655408, 3, 3, 589871, 3, 3, 524334, 196611, 3, 524333, 131075, 3, 1048621, 524292, 0, 1114157, 524292, 1, 1179693, 524292, 3, 983088, 720899, 0, 983087, 524291, 0, 1048623, 524291, 3, 1048624, 720899, 3, 983082, 524291, 0, 1048618, 524291, 3, 720938, 65540, 3, 720939, 327684, 3, 720940, 589828, 3, 720941, 589828, 3, 720942, 589828, 3, 720943, 393220, 3, 720944, 196612, 3, 655407, 720900, 0, 655406, 393220, 1, 655405, 589828, 2, 655404, 327684, 1, 655403, 524292, 0, 589868, 524292, 0, 589869, 655364, 0, 589870, 720900, 0, 1114158, 720900, 2, 1179694, 720900, 3, 1048622, 720900, 0, 1048619, 720899, 3, 983083, 720899, 0, 1376296, 524289, 3, 1376297, 589825, 3, 1310762, 655361, 0, 1310763, 655361, 0, 1310764, 655361, 0, 1310765, 655361, 0, 1310766, 655361, 0, 1310767, 655361, 0, 1310768, 655361, 0, 1310769, 655361, 0, 1376305, 589825, 3, 1376304, 589825, 3, 1376306, 720897, 3, 1310770, 720897, 0, 1376303, 589825, 3, 1376302, 589825, 3, 1376301, 589825, 3, 1376300, 589825, 3, 1376299, 589825, 3, 1376298, 589825, 3, 1310761, 655361, 0, 1310760, 524289, 0, 262160, 720899, 3, 262159, 524291, 3, 196623, 524291, 0, 196624, 720899, 0, 655372, 589827, 3, 655371, 262147, 2, 589836, 655363, 0, 655373, 720899, 3, 589837, 720899, 0, 983050, 589827, 1, 917514, 524291, 0, 983048, 655363, 0, 983047, 524291, 0, 589835, 524291, 0, 983051, 720899, 3, 917515, 458755, 1, 851979, 3, 1, 786443, 3, 1, 720907, 3, 1, 983049, 655363, 0, 851976, 65536, 0, 327704, 327683, 3, 327705, 589827, 3, 327706, 589827, 3, 327707, 589827, 3, 327708, 720899, 3, 458776, 327683, 0, 458777, 655363, 0, 458778, 655363, 0, 458779, 655363, 0, 458780, 720899, 0, 524312, 524291, 3, 524313, 589827, 3, 524314, 589827, 3, 524315, 589827, 3, 524316, 720899, 3, 262168, 524291, 0, 262169, 655363, 0, 262170, 655363, 0, 262171, 655363, 0, 262172, 720899, 0)

[node name="UI Canvas Layer" type="CanvasLayer" parent="."]
layer = 100

[node name="InfoPanel" type="Node2D" parent="UI Canvas Layer"]
script = ExtResource("10_aa88r")

[node name="AnimationPlayer" type="AnimationPlayer" parent="UI Canvas Layer/InfoPanel"]
libraries = {
"": SubResource("AnimationLibrary_3c2l8")
}

[node name="CurrencyDisplay" parent="UI Canvas Layer/InfoPanel" instance=ExtResource("6_6nu1p")]
z_index = 10
position = Vector2(0, 130)

[node name="ObjectiveDisplay" parent="UI Canvas Layer/InfoPanel" instance=ExtResource("12_3v315")]

[node name="DetailPanel" parent="UI Canvas Layer/InfoPanel" instance=ExtResource("10_14nb1")]
visible = false
position = Vector2(0, 241)

[node name="MouseArea-Left" type="Area2D" parent="UI Canvas Layer/InfoPanel"]
top_level = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="UI Canvas Layer/InfoPanel/MouseArea-Left"]
visible = false
position = Vector2(219.5, 537)
shape = SubResource("RectangleShape2D_1nxvs")

[node name="MouseArea-Right" type="Area2D" parent="UI Canvas Layer/InfoPanel"]
top_level = true
position = Vector2(1482, 0)

[node name="CollisionShape2D" type="CollisionShape2D" parent="UI Canvas Layer/InfoPanel/MouseArea-Right"]
visible = false
position = Vector2(219.5, 537)
shape = SubResource("RectangleShape2D_1nxvs")

[node name="Control Panel" type="Node2D" parent="UI Canvas Layer"]
position = Vector2(0, 1008)

[node name="Build Sapling Button" parent="UI Canvas Layer/Control Panel" instance=ExtResource("8_7jknq")]
position = Vector2(961, -16)
TowerToBuild = ExtResource("14_lyc22")
BuildParams = ExtResource("9_qaekf")

[node name="Build Buckthorn" parent="UI Canvas Layer/Control Panel" instance=ExtResource("8_7jknq")]
position = Vector2(1057, -16)
TowerToBuild = ExtResource("16_qloi3")
BuildParams = ExtResource("13_lgdtf")

[node name="Build Sunleaf Button" parent="UI Canvas Layer/Control Panel" instance=ExtResource("8_7jknq")]
position = Vector2(865, -16)
TowerToBuild = ExtResource("18_wan3g")
BuildParams = ExtResource("13_qekwa")

[node name="Build Genesis Button" parent="UI Canvas Layer/Control Panel" instance=ExtResource("8_7jknq")]
position = Vector2(97, -16)
TowerToBuild = ExtResource("20_vysba")
BuildParams = ExtResource("21_iihs7")

[node name="ContextMenu" parent="UI Canvas Layer" instance=ExtResource("19_s5hir")]
position = Vector2(1369, 487)

[node name="DebugPanel" type="Node2D" parent="UI Canvas Layer"]

[node name="NinePatchRect" type="NinePatchRect" parent="UI Canvas Layer/DebugPanel"]
self_modulate = Color(1, 1, 1, 0.490196)
offset_left = 867.0
offset_top = 24.0
offset_right = 1056.0
offset_bottom = 93.0
texture = ExtResource("24_07imn")
patch_margin_left = 3
patch_margin_top = 3
patch_margin_right = 3
patch_margin_bottom = 3

[node name="CostButton" type="CheckButton" parent="UI Canvas Layer/DebugPanel/NinePatchRect"]
layout_mode = 0
offset_top = 1.0
offset_right = 187.0
offset_bottom = 30.0
text = "Debug Costs"
script = ExtResource("25_lm41f")

[node name="SpawnButton" type="CheckButton" parent="UI Canvas Layer/DebugPanel/NinePatchRect"]
layout_mode = 0
offset_top = 32.0
offset_right = 187.0
offset_bottom = 61.0
text = "Disable Enemy"
script = ExtResource("26_gxkg1")

[connection signal="mouse_entered" from="UI Canvas Layer/InfoPanel/MouseArea-Left" to="UI Canvas Layer/InfoPanel" method="MoveToRight"]
[connection signal="mouse_entered" from="UI Canvas Layer/InfoPanel/MouseArea-Right" to="UI Canvas Layer/InfoPanel" method="MoveToLeft"]
[connection signal="pressed" from="UI Canvas Layer/DebugPanel/NinePatchRect/CostButton" to="UI Canvas Layer/DebugPanel/NinePatchRect/CostButton" method="ToggleCosts"]
[connection signal="pressed" from="UI Canvas Layer/DebugPanel/NinePatchRect/SpawnButton" to="UI Canvas Layer/DebugPanel/NinePatchRect/SpawnButton" method="ToggleCosts"]
